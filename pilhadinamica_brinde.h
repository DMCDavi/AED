#include<stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct{
	char letra[8];
}BLOCO;

typedef struct no{
	BLOCO dados;
	struct no *prox;
} NO;

typedef struct{
	NO *topo;
}PILHA;

PILHA* cria_pilha(){ // ela irá alocar um espaço na memória;
	PILHA *pi = (PILHA*) malloc(sizeof(PILHA));
	if(pi != NULL) // Deu certo a alocação
		pi->topo = NULL;  // Faz o ponteiro apontar para NULL, ou seja, a pilha está vazia
	return pi;
}	

int pilha_vazia(PILHA *p){
	if(p==NULL || p->topo==NULL) return 1;
	return 0;
}

// Função que insere no topo da pilha
int empilha(PILHA *p, BLOCO c){ 
	if(p == NULL) return 0;
	NO *novo_no = (NO*)malloc(sizeof(NO));
	if(novo_no==NULL) return 0; // Não alocou memória
	// atribuir os valores para o novo nó;
	novo_no->dados= c;
	// Faz o novo nó apontar para o nó do topo da pilha
	novo_no->prox=p->topo;
	// Desloca o topo fazendo-o apontar para o novo nó
	p->topo = novo_no;
	return 1;
}


int desempilha(PILHA *p, BLOCO *c){ 	
	if(pilha_vazia(p)) return 0;
	NO *aux = p->topo;
	
	strcpy(c->letra, aux->dados.letra);
	
	// Desloca o topo fazendo-o apontar para o próximo nó
	p->topo = aux->prox;
	
	// Libera o nó desempilhado
	free(aux);

	return 1;
}
